<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>First hands-on with the HP Lefthand P4000 VSA &#8211; Juanma's Blog</title>
<meta name="description" content="The P400 Virtual Storage Appliance is a storage product from HP, its features include:

">
<meta name="keywords" content="HP Lefthand, iSCSI, P4000 VSA, Storage, VMware Workstation, vSphere">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="First hands-on with the HP Lefthand P4000 VSA">
<meta name="twitter:description" content="The P400 Virtual Storage Appliance is a storage product from HP, its features include:

">
<meta name="twitter:site" content="@jreypo">
<meta name="twitter:creator" content="@jreypo">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="First hands-on with the HP Lefthand P4000 VSA">
<meta property="og:description" content="The P400 Virtual Storage Appliance is a storage product from HP, its features include:

">
<meta property="og:url" content="/storage/virtualization/first-hands-on-with-the-hp-lefthand-p4000-vsa/">
<meta property="og:site_name" content="Juanma's Blog">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/storage/virtualization/first-hands-on-with-the-hp-lefthand-p4000-vsa/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Juanma's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Juanma's Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Posts</a></li>
				
				    
				        
				    
				    <li><a href="/vmware-hp-links/" >HP Resources for VMware</a></li>
				
				    
				        
				    
				    <li><a href="/tags/" >Tags</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
  

<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo-2.jpg" class="bio-photo" alt="Juan Manuel Rey bio photo">


  <h3 itemprop="name">Juan Manuel Rey</h3>
  <p>Unix Geek. Sysadmin by heart turned cloud architect for VMware.</p>
  <a href="mailto:Juan Manuel Rey" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  <a href="http://twitter.com/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  <a href="http://plus.google.com/+JuanManuelReyPortal" class="author-social" target="_blank"><i class="fa fa-fw fa-google-plus-square"></i> Google+</a>
  <a href="http://linkedin.com/in/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  
  <a href="http://github.com/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  <a href="http://stackoverflow.com/users/2454288/jreypo" class="author-social" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> Stackoverflow</a>
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/storage/virtualization/first-hands-on-with-the-hp-lefthand-p4000-vsa/" rel="bookmark" title="First hands-on with the HP Lefthand P4000 VSA">First hands-on with the HP Lefthand P4000 VSA</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>The <strong>P400 Virtual Storage Appliance</strong> is a storage product from HP, its features include:</p>

<ul>
  <li>Synchronous replication to remote sites.</li>
  <li>Snapshot capability.</li>
  <li>Thin provisioning.</li>
  <li>Network RAID.</li>
</ul>

<p>It can be used to create a virtual iSCSI SAN to provide shared storage for ESX environments.</p>

<p>A 60-day trial is available <a href="http://www.hp.com/go/tryvsa">here</a>, it requires to log-in with your HP Passport account. As I wanted to test it is what I did, there are two versions available one for ESX and a second one labeled as Laptop Demo which is optimized for VMware Workstation and also comes with the Centralized Management Console software. I choose the last one.</p>

<p>After the import the appliance into VMware Workstation you will see that it comes configured as <em>Other Linux 2.6x kernel</em> as guest OS, with 1 vCPU, 384MB of RAM, 2 308MB disks used for the OS of the VSA and a 7.2 GB disk. The three disks are SCSI and are configured as Independent-Persistent.</p>

<p>At that point I fired up the appliance and started to play with my VSA.</p>

<h3 id="first-step---basic-configuration">First Step - Basic configuration.</h3>

<p>A couple of minutes after have been started the appliance will show the log-in prompt.</p>

<p><a href="/images/vsa-2010-04-05-01-26-15.png"><img src="/images/vsa-2010-04-05-01-26-15.png" alt="VSA login prompt" title="VSA login prompt" /></a></p>

<p>As instructed enter <code>start</code>. You will be redirected to another log-in screen where you only have to press <em>Enter</em> and then the configuration screen will appear.</p>

<p><a href="/images/vsa-2010-04-05-01-26-41.png"><img src="/images/vsa-2010-04-05-01-26-41.png" alt="VSA config screen" title="VSA config screen" /></a></p>

<p>The first section <code>General Settings</code> allow you to create an administrator account and to set the password of the default account.</p>

<p><a href="/images/p4000-2-2010-04-08-23-21-46.png"><img src="/images/p4000-2-2010-04-08-23-21-46.png" alt="VSA Admin creation" title="VSA Admin creation" /></a></p>

<p>Move to the networking settings. The first screen ask you to choose the network interface, in my case I only had one.</p>

<p><a href="/images/vsa-2010-04-05-01-29-07.png"><img src="/images/vsa-2010-04-05-01-29-07.png" alt="VSA network interface" title="VSA network interface" /></a></p>

<p>And now you can proceed with the NIC configuration. Will ask for confirmation prior to commit any changes you made in the VSA network configuration.</p>

<p><a href="/images/p4000-2-2010-04-09-00-28-32.png"><img src="/images/p4000-2-2010-04-09-00-28-32.png" alt="VSA Network settings" title="VSA Network settings" /></a></p>

<p>In the next area of the main menu, Network TCP Status, the speed of the network card can be forced to 1000MBs Full Duplex and the Frame Size can be set.</p>

<p><a href="/images/vsa-2010-04-05-01-32-15.png"><img src="/images/vsa-2010-04-05-01-32-15.png" alt="" /></a></p>

<p>The final part is for group management configuration, in fact to remove the VSA from a management group, and to reset the VSA to its defaults settings.</p>

<p>Now we have our P4000 configured to be managed through CMC. I will not explain the CMC installation since it’s just an almost <em>next -&gt; next</em> task.</p>

<h3 id="second-step---vsa-management-with-centralized-management-console">Second step - VSA management with Centralized Management Console.</h3>

<p>Launch the CMC. The <strong>Find Nodes Wizard</strong> will pop-up.</p>

<p><a href="/images/find_node_wizard.png"><img src="/images/find_node_wizard.png" alt="Find nodes wizard" title="Find nodes wizard" /></a></p>

<p>Choose the appropriate option in the next screen. To add a single VSA choose the second one.</p>

<p><a href="/images/lefthand_02.png"><img src="/images/lefthand_02.png" alt="" /></a></p>

<p>Enter the IP address of the appliance.</p>

<p><a href="/images/lefthand_08.png"><img src="/images/lefthand_08.png" alt="" /></a></p>

<p>Click <strong>Finish</strong> and if the VSA is online the wizard will find it and add it to the CMC.</p>

<p><a href="/images/lefthand_06.png"><img src="/images/lefthand_06.png" alt="VSA Added to CMC" title="VSA Added to CMC" /></a></p>

<p>Now the VSA is managed through the CMC but it is not part of a management group.</p>

<h3 id="step-three---add-more-storage">Step Three - Add more storage.</h3>

<p>The first basic tasks we’re going to do with the VSA prior to Management Creation is to add more storage.</p>

<p>As the VSA is a virtual machine go to VMware Workstation or vSphere Client, depends on which VSA version are you using, and edit the appliance settings.</p>

<p><a href="/images/p4000_add-new-disk_1.png"><img src="/images/p4000_add-new-disk_1.png" alt="Add new disk" /></a></p>

<p>If you look into the advanced configuration of the third disk, the 7.2GB one, you will see that it has the 1:0 SCSI address.</p>

<p><a href="/images/p4000_add-new-disk_2.png"><img src="/images/p4000_add-new-disk_2.png" alt="" /></a></p>

<p>This is very important because the new disks must be added sequentially from 1:1 through 1:4 addresses in order to be detected by the VSA. If there is disk added to the VSA the 1:0 SCSI address must be used for the first disk.</p>

<p>Add the new disk and before finishing the process edit the advanced settings of the disk and set the SCSI address.</p>

<p><a href="/images/p4000_add-new-disk_8.png"><img src="/images/p4000_add-new-disk_8.png" alt="" /></a></p>

<p>Now in the CMC go to the storage configuration. You will see the new disks as uninitialized.</p>

<p><a href="/images/p4000_add-new-disk_5.png"><img src="/images/p4000_add-new-disk_5.png" alt="" /></a></p>

<p>Right click on the disk and select <strong>Add Disk to RAID</strong>.</p>

<p><a href="/images/p4000_add-new-disk_6.png"><img src="/images/p4000_add-new-disk_6.png" alt="" /></a></p>

<p>Next you will see the disk active and already added to the RAID.</p>

<p><a href="/images/p4000_add-new-disk_7.png"><img src="/images/p4000_add-new-disk_7.png" alt="" /></a></p>

<h3 id="step-four---management-group-creation">Step four - Management group creation.</h3>

<p>We’re going to create the most basic configuration possible with a P4000 VSA. One VSA in a single management group and part of a single-node cluster.</p>

<p>From the <strong>Getting Started</strong> screen launch the <strong>Management Groups, Clusters and Volume Wizard</strong>.</p>

<p><a href="/images/cluster_wizard.png"><img src="/images/cluster_wizard.png" alt="Cluster Wizard" title="Cluster Wizard" /></a></p>

<p>Select <strong>New Management Group</strong> and enter the data of the new group.</p>

<p><a href="/images/vsa_cluster4.png"><img src="/images/vsa_cluster4.png" alt="" /></a></p>

<p>Add the administrative user.</p>

<p><a href="/images/vsa_cluster5.png"><img src="/images/vsa_cluster5.png" alt="" /></a></p>

<p>Set the time of the Management Group.</p>

<p><a href="/images/vsa_cluster6.png"><img src="/images/vsa_cluster6.png" alt="" /></a></p>

<p>Create a new Standard Cluster.</p>

<p><a href="/images/vsa_cluster7.png"><img src="/images/vsa_cluster7.png" alt="" /></a></p>

<p>Enter the name of the cluster and select the nodes of the cluster, in this particular set-up there is only one node.</p>

<p><a href="/images/vsa_cluster8.png"><img src="/images/vsa_cluster8.png" alt="" /></a></p>

<p>Finally add a virtual IP for the cluster.</p>

<p><a href="/images/vsa_cluster14.png"><img src="/images/vsa_cluster14.png" alt="" /></a></p>

<p>Once the cluster is created the wizard will ask to create a volume. The volume can also be added later to the cluster.</p>

<p><a href="/images/vsa_cluster10.png"><img src="/images/vsa_cluster10.png" alt="" /></a></p>

<p>After we click finish the management group and the cluster will be created.</p>

<p><a href="/images/vsa_cluster13.png"><img src="/images/vsa_cluster13.png" alt="" title="VSA_cluster13" /></a></p>

<p>And we are done. In the next post about the P4000 I will show how to add and iSCSI volume to an ESXi4 server.</p>

<p>Juanma.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/storage/virtualization/first-hands-on-with-the-hp-lefthand-p4000-vsa/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/storage/virtualization/first-hands-on-with-the-hp-lefthand-p4000-vsa/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/storage/virtualization/first-hands-on-with-the-hp-lefthand-p4000-vsa/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>First hands-on with the HP Lefthand P4000 VSA</strong> was published on <time datetime="2010-04-09T00:41:25+02:00">April 09, 2010</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/personal/merry-christmas/" title="Merry Christmas!">Merry Christmas!</a></li>
    
      <li><a href="/hp/networking/virtualization/hp-virtual-connect-domain-setup-part-2-network-setup/" title="HP Virtual Connect Domain Setup - Part 2: Network Setup">HP Virtual Connect Domain Setup - Part 2: Network Setup</a></li>
    
      <li><a href="/hp/networking/virtualization/hp-virtual-connect-domain-setup-part-1-domain-setup-wizard/" title="HP Virtual Connect Domain Setup - Part 1: Domain Setup Wizard">HP Virtual Connect Domain Setup - Part 1: Domain Setup Wizard</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Juan Manuel Rey. <br> Hosted on <a href="https://pages.github.com" rel="nofollow" target="_blank">GitHub Pages</a> and powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>




</body>
</html>
